!function(t){"use strict";function l(){}l.__name__=!0,l.init=function(){window.document.onkeydown=function(t){l.k.h[t.keyCode]=!0},window.document.onkeyup=function(t){l.k.h[t.keyCode]=!1},a.ctx.canvas.onpointerdown=function(t){l.k.h[-1-t.button]=!0},a.ctx.canvas.onpointerup=function(t){l.k.h[-1-t.button]=!1},a.ctx.canvas.onpointermove=function(t){return l.M={x:Math.floor(t.offsetX/a.zx),y:Math.floor(t.offsetY/a.zy)}},a.ctx.canvas.ontouchstart=function(t){l.k.h[-1]=!0},a.ctx.canvas.ontouchend=function(t){l.k.h[-1]=!1},a.ctx.canvas.ontouchmove=function(t){return l.M={x:Math.floor(t.touches.item(0).clientX/a.zx),y:Math.floor(t.touches.item(0).clientY/a.zy)}}},l.p=function(t){return!!l.k.h.hasOwnProperty(t)&&l.k.h[t]};function i(){}i.__name__=!0,i.clr=function(t){null!=t?i.frect(t,0,0,a.w,a.h):a.ctx.clearRect(0,0,a.w,a.h)},i.frect=function(t,e,n,i,o){a.ctx.fillStyle=t,a.ctx.fillRect(e,n,i,o)};var a=t.Game=function(){};a.__name__=!0,a.init=function(t,e,n){window.document.oncontextmenu=function(t){return t.preventDefault()};var i=window.document.createElement("canvas"),o=window.document.getElementById(t);o.appendChild(i),a.w=i.width=e,a.h=i.height=n,a.ctx=i.getContext("2d",null),l.init(),window.onresize=function(t){return a.zx=o.offsetWidth/e,a.zy=o.offsetHeight/n},window.onresize(),window.requestAnimationFrame(a.loop),r.main()},a.loop=function(t){a.t=t,a.s.update(),a.s.draw(),window.requestAnimationFrame(a.loop)};var r=function(){};r.__name__=!0,r.main=function(){a.s=new e},Math.__name__=!0;var e=function(){this.ball={rect:{x:64,y:64,width:2,height:2},body:{velocity:{x:0,y:0},speed:3}},this.blocks=[],this.paddle={x:64,y:120,width:10,height:1},this.createBlocks(),this.ball.body.velocity.y=1};e.__name__=!0,e.prototype={createBlocks:function(){for(var t="red",e=0;e<3;){var n=e++;switch(n){case 0:t="red";break;case 1:t="blue";break;case 2:t="purple"}for(var i=0;i<64;)this.blocks.push({x:2*i++,y:2*n,width:2,height:2,color:t,alive:!0})}},update:function(){this.updateControls(),this.updateBallMovement(),this.updateCollisionDetection()},updateControls:function(){l.p(37)&&--this.paddle.x,l.p(39)&&(this.paddle.x+=1)},updateBallMovement:function(){this.ball.body.velocity.y=Math.round(Math.min(Math.max(this.ball.body.velocity.y,-50),50)),this.ball.rect.y+=this.ball.body.velocity.y,this.ball.rect.x+=this.ball.body.velocity.x},updateCollisionDetection:function(){var t;this.isCollided(this.ball.rect,this.paddle)&&(o.trace("Collided with paddle",{fileName:"src/MyScene.hx",lineNumber:95,className:"MyScene",methodName:"updateCollisionDetection"}),t=this.paddle.x+this.paddle.width/2,this.ball.rect.x<t&&(this.ball.body.velocity.x=1),this.ball.rect.x>t&&(this.ball.body.velocity.x=-1),this.ball.body.velocity.y*=-1,this.ball.body.velocity.x*=-1),this.handleWallCollisions();for(var e=0,n=this.blocks;e<n.length;){var i=n[e];++e,this.isCollided(this.ball.rect,i)&&i.alive&&(o.trace("Collided with block",{fileName:"src/MyScene.hx",lineNumber:114,className:"MyScene",methodName:"updateCollisionDetection"}),i.alive=!1,o.trace(i.x,{fileName:"src/MyScene.hx",lineNumber:117,className:"MyScene",methodName:"updateCollisionDetection",customParams:[i.y]}),o.trace(this.ball.body.velocity.y,{fileName:"src/MyScene.hx",lineNumber:118,className:"MyScene",methodName:"updateCollisionDetection"}),this.ball.body.velocity.y*=-1,o.trace(this.ball.body.velocity.y,{fileName:"src/MyScene.hx",lineNumber:120,className:"MyScene",methodName:"updateCollisionDetection"}),this.ball.body.velocity.x*=-1)}},handleWallCollisions:function(){this.ball.rect.x<0&&(this.ball.body.velocity.x*=-1),128<this.ball.rect.x&&(this.ball.body.velocity.x*=-1),this.ball.rect.y<0&&(this.ball.body.velocity.y*=-1)},isCollided:function(t,e){var n=t.x+t.width,i=t.x;return!!(!!(!!(i>=e.x&&i<=e.x+e.width&&((i=t.y)>=e.y&&i<=e.y+e.height))||(i=n)>=e.x&&i<=e.x+e.width&&((i=t.y+t.height)>=e.y&&i<=e.y+e.height))||(i=t.x)>=e.x&&i<=e.x+e.width&&((i=t.y+t.height)>=e.y&&i<=e.y+e.height))||(i=n)>=e.x&&i<=e.x+e.width&&((i=t.y)>=e.y&&i<=e.y+e.height)},draw:function(){i.clr(),this.drawBlocks(),this.drawBall(),this.drawPaddle()},drawBlocks:function(){for(var t=0,e=this.blocks;t<e.length;){var n=e[t];++t,n.alive&&i.frect(n.color,n.x,n.y,n.width,n.height)}},drawBall:function(){var t=this.ball.rect;i.frect("lightBlue",t.x,t.y,t.width,t.height)},drawPaddle:function(){i.frect("red",this.paddle.x,this.paddle.y,this.paddle.width,this.paddle.height)}};function c(){}c.__name__=!0,c.string=function(t){return h.__string_rec(t,"")};var o=function(){};o.__name__=!0,o.formatOutput=function(t,e){var n=c.string(t);if(null==e)return n;t=e.fileName+":"+e.lineNumber;if(null!=e.customParams)for(var i=0,o=e.customParams;i<o.length;)n+=", "+c.string(o[i++]);return t+": "+n},o.trace=function(t,e){e=o.formatOutput(t,e);"undefined"!=typeof console&&null!=console.log&&console.log(e)};function n(){this.h={}}t=function(t){this.current=0,this.array=t};t.__name__=n.__name__=!0,t.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]}};var h=function(){};h.__name__=!0,h.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var n,i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){var o="[";e+="\t";for(var l=0,a=t.length;l<a;){var r=l++;o+=(0<r?",":"")+h.__string_rec(t[r],e)}return o+="]"}try{n=t.toString}catch(l){return"???"}if(null!=n&&n!=Object.toString&&"function"==typeof n){i=t.toString();if("[object Object]"!=i)return i}o="{\n";e+="\t";var c=null!=t.hasOwnProperty,s=null;for(s in t)c&&!t.hasOwnProperty(s)||"prototype"!=s&&"__class__"!=s&&"__super__"!=s&&"__interfaces__"!=s&&"__properties__"!=s&&(2!=o.length&&(o+=", \n"),o+=e+s+" : "+h.__string_rec(t[s],e));return o+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},String.__name__=!0,Array.__name__=!0,h.__toStr={}.toString,l.M={x:0,y:0},l.k=new n}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this);